<div class="section section-experiences">
    <div class="section-title">
        Experiences
    </div>

    <grid 
        title="Experiences"
        customClass="grid-experiences"
        [viewTypes]="['list', 'card']"
        viewType="list"
        [showFilterRow]="true"
        [showHeaderRow]="false"
        [showCountBadge]="true"
        [items]="items"
        [filterFields]="['companyName']">

        <ng-template #viewsTemplate let-filteredItems="filteredItems" let-viewType="viewType">
            <!-- List View //-->
            <grid-listview [showColumnHeaders]="false"
                           [items]="filteredItems"
                           *ngIf="viewType=='list'">
                <grid-column name="icon" title="">
                    <ng-template #cellTemplate let-item="item">
                        <img [src]="appUtils.getExperienceImageSrcByDto(item)">
                    </ng-template>
                </grid-column>

                <grid-column name="companyName" title="Company">
                    <ng-template #cellTemplate let-item="item">
                        <div style="display: flex; flex-direction: column;">
                            <div>
                                <span style="font-weight: bold; text-transform: uppercase; padding-right: 10px;">{{item.companyName}}</span>
                                <small>({{appUtils.getYearCountForPositions(item.positions)}})</small>
                            </div>
                            <ul>
                                <li *ngFor="let position of item.positions">
                                    <a [routerLink]="['experiences', position.id]">
                                        {{position.title}} <small>({{position.startDate}} - {{position.endDate ?? 'Present'}})</small>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </ng-template>
                </grid-column>
            </grid-listview>
        </ng-template>
    </grid>
</div>
